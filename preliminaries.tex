% !TEX root = creche.tex
\chapter{Preliminaries and notation}\label{termini}
%\setcounter{page}{1}
This chapter introduces the syntax and semantic of first order logic. We assume that the reader is not completely unfamiliar with first order logic. 


\section{Structures}

A \emph{(first order) language $L$\/}\index{language!(first order)}\index{0L@$L$}  (also called \emph{signature\/}\index{signature}) is a triple that consists of

\begin{itemize}
\item[1.] a set \emph{$L_{\rm fun}$}\index{0Lfun@$L_{\rm fun}$} whose elements are called \emph{function symbols}\index{symbol!function}.
\item[2.] a set \emph{$L_{\rm rel}$\/}\index{0Lrel@$L_{\rm rel}$} whose elements are called \emph{relation symbols}\index{symbol!relation}.
\item[3.] a function that assign to every $f\in L_{\rm fun}$ and $r\in L_{\rm rel}$ non negative integers $n_f$ and $n_r$ that we call \emph{arity\/}\index{arity} of the function, respectively relation, symbol. In words we say that $f$ is a \emph{$n_f$-ary} function symbol, similarly for $r$. We may say \emph{constant\/}\index{constant} for $0$-ary function symbol.
\end{itemize}

Waring: it is custom to use the symbol \emph{$L$} to denote both the language and the set of formulas (to be defined below) associated to it. With \emph{$|L|$} we denote he cardinality of $L_{\rm fun}\cup L_{\rm rel}\cup\omega$.


A \emph{(first order) structure\/}\index{structure} $M$ of signature $L$ (for short \emph{$L$-structure}) consists of

\begin{itemize}
\item[1.] a set that we call the \emph{domain\/}\index{domain!(of a structure)} or \emph{support}\index{support!(of a structure)} and denote with the same symbol $M$ used for the whole structure
\item[2.] a function that assign to every $f\in L_{\rm fun}$ a total map \emph{$f^M$ $: M^{n_f}\to M$}\index{0fM@$f^M$} 
\item[3.]a function that assign to every  $r\in L_{\rm rel}$ a relation \emph{$r^M\subseteq M^{n_r}$}\index{0rM@$r^M$}.
\end{itemize}
 We call $f^M$ and $r^M$ the \emph{interpretation\/}\index{interpretation} of $f$, respectively $r$ in $M$.
 
Recall that by definition $M^0=\{\0\}$\index{function!0-ary}. Therefore the interpretation of a constant $c$ is a function that maps the unique element of $M^0$ into an element of $M$. We will identify $c^M$ with $c^M(\0)$.

We may use the word \emph{model\/} as a synonym of structure. But beware that in some context the word is used to denote some particular sort of structures.  

If $M$ is an $L$-structure and $A\subseteq M$ is any subset we write \emph{$L(A)$\/}\index{0LA@$L(A)$, $L(M)$} the language obtained adding to $L_{\rm fun}$ the elements of $A$ as constants. In this context the elements of $A$ are called \emph{parameters}\index{parameter}. There is a canonical expansion of $M$ to an $L(A)$-structure by setting $a^M=a$ for every $a\in A$.

\begin{example}\label{LgaLgmLau}
The \emph{language of additive groups\/}\index{language!of additive groups} consists of the following function symbols\nobreak
\begin{itemize}
\item a constant (that is, a function symbol of arity $0$):\ \ \ \  $0$
\item a unary function symbol (that is, of arity $1$):\ \ \ \   $-$
\item a binary function symbol (that is, of arity $2$):\ \ \ \  $+$
\end{itemize}
In the \emph{language of multiplicative groups\/}\index{language!of multiplicative groups\/} the three symbols above are replaced with $1$, ${}^{-1}$, and $\cdot$ respectively. Any group is a structure in either of these two signatures with the obvious interpretation. Needless to say, not all structures with these signature are groups. 

The \emph{language of (unitary) rings\/} contains all function symbols above with exception of \ ${}^{-1}$. The  \emph{language of ordered rings\/} also contains the binary relation symbol $<$.\QED
\end{example}

The following is a less straightforward example. The reason behind the choice of the language of vector spaces will be clear in Section~\ref{sottostrutture} below. 

\begin{example}\label{linguaggio_spazi_vettoriali}
Let $K$ be a field. The \emph{language of vector spaces over $K$\/}\index{language!vector spaces}, that here we denote by $L_K$, extends that of additive groups with a unary function symbols $k$ for every $k\in K$. 

Recall that a vector space over $K$ is an abelian group $M$ together with an action of $K$ over $M$, that is, a function $\mu:K\times M\imp M$. To view a vector space over $K$ as an $L_K$-structure we interpret the group symbols in the obvious way and each $k\in K$ as the function $\mu(k,\mbox{-})$.\QED
\end{example}

The languages in the examples above, with the exception of that of ordered rings, are \emph{functional languages}\index{language!functional}, i.e.\@ $L_{\rm rel}=\0$. In the following we consider two important examples of \emph{relational languages\/}\index{language!relational\/} where $L_{\rm fun}=\0$.

\begin{example}\label{expl_graph1}
The \emph{language of strict orders\/}\index{language!strict orders} contains only the binary relation symbol $<$. The \emph{language of graphs\/}\index{language!graphs} also contains only a binary relation symbol (there is no canonical choice). In combinatorics a graph is a set of unordered pairs. To associate to a graph a first order structure we identify identify sets of unordered pairs with symmetric irreflexive relations.\QED
\end{example}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Tuples}
A \emph{tuple of elements of $A$\/}\index{tuple} is a function $a:\alpha\to A$ from an ordinal $\alpha$ to a set $A$.  We call $\alpha$ the \emph{length} of $a$ and denote it by \emph{$|a|$}\index{length!of a tuple}\index{0a@$|a|$}. If $a$ is surjective, we call $a$ an \emph{enumeration\/}\index{enumeration} of $A$. Occasionally, we may say \emph{sequence\/} for tuple --~a word which we use  also when the domain is not necessarily an ordinal (though, typically, an ordered set).

We write \emph{$a_i$} for the $i$-th element of $a$, that is, the element $a(i)$, where $i<\alpha$. We may present a tuple with the notation \emph{$a=\<a_i: i<\alpha\>$}\index{0a0al@$\<a_i: i<\alpha\>$}; when $\alpha$ is finite, we may also write \emph{$a=a_0,\dots,a_{\alpha-1}$}. 

The set of tuples of elements of length $\alpha$ is denoted by \emph{$A^\alpha$}. The set of tuples of length $<\alpha$ is denoted by \emph{$A^{<\alpha}$}. For instance, \emph{$A^{<\omega}$\/} is the set of all finite tuples of elements of $A$. When $\alpha$ is finite we confuse $A^\alpha$ with $\alpha$-th Cartesian power of $A$. In particular $A^1$ is confused with $A$.

If $a,b\in A^{|\alpha|}$ and $h$ is a function defined on $A$, we write $h(a)=b$ for $h(a_i)=b_i$. We often confuse the pair $\<a,b\>$ with the tuple of pairs $\<a_i,b_i\>$. The context will resolve the ambiguity.

Note that there is a unique tuple of length $0$, we call it the \emph{empty tuple\/}\index{empty tuple}. In fact, for all $A$, even when $A$ is empty, $\0$ is the unique element of $A^{0}$. 

We will often concatenate tuples. If $a$ and $b$ are tuples we will write \emph{$a\,b$\/} or \emph{$a,b$\/} indifferently. 




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Terms}\label{terminidef}
Fix a infinite set $V$ whose elements we call \emph{variables}\index{variable}. We use the letters $x$, $y$, $z$, ecc.\@ to denote variables or tuple of variables. We rarely refer to $V$ explicitly and we always assume it is large enough for our needs.

We fix a signature $L$ for the whole section.

\begin{definition}\label{deftermine} 
A \emph{term\/}\index{term} is a finite sequence of elements of $L_{\rm fun}\cup V$ that are obtained with the following inductive procedure
\begin{itemize}
\item[o.] every variable, intended as a tuple of length $1$, is a term;
\item[i.] If $f\in L_{\rm fun}$ and $t$ is a tuple obtained concatenating $n_f$ terms, then $f\kern0.1ex t$ is a term. By $f\kern0.1ex t$ we understand the tuple obtained prefixing $t$ by $f$.
\end{itemize}
We will say \emph{$L$-term\/} when we with to specify the language $L$.\QED
\end{definition}

Note that any constant $f$, intended as a tuple of length $1$, is a term (by \ssf{i}, the term $f$ is obtained concatenating $n_f=0$ terms and prefixing by $f$). Terms that do not contain variables are called \emph{closed terms}\index{term!closed}.

The intended meaning of, for instance, the term ${+}\,{+}\,x\,y\,z$ is $(x\,{+}\,y)\,{+}\,z$. The first expression uses an \emph{prefix notation\/}\index{prefix notation} the second the \emph{infix notation}\index{infix notation}. When convenient we (informally) use the infix notation and add parenthesis to improve legibility and avoid ambiguity.

The following lemma shows that the prefix notation allows to write unambiguous terms without the use of parenthesis.


\begin{lemma}[ (unique legibility of terms)]\label{lemmaterminileggibilita}
Let $a$ be a sequence of terms. Suppose $a$ can be obtained both by the concatenation of the terms $t_1,\dots,t_n$ or by the concatenation of the terms $s_1,\dots,s_m$. Then $n=m$ and $s_i=t_i$.
\end{lemma}
\begin{proof}
By induction on $|a|$. If $|a|=0$ than $n=m=0$ and there is nothing to prove. Suppose the claim holds for tuples of length $k$ and let $a=a_1,\dots,a_{k+1}$. Then $a_1$ is the first element of both  $t_1$ and $s_1$. If $a_1$ is a variable, say $x$, then $t_1$ and $s_1$ are the term $x$ and $n=m=1$. Otherwise $a_1$ is a function symbol, say $f$, then $t_1=f\,\bar t$ and $s_1=f\,\bar s$ where $\bar t$ and $\bar s$ are obtained concatenating he terms $t'_1, \dots, t'_p$ and $s'_1, \dots, s'_p$.  Now apply the induction hypothesis to $a_2,\dots,a_{k+1}$ and to the terms $t'_1, \dots,t'_p,t_2,\dots,t_n$ and $s'_1,\dots,s'_p,s_2,\dots,s_m$.
\end{proof}

If $x=x_1,\dots,x_n$ is a tuple of distinct variables and $s=s_1,\dots,s_n$ is a tuple of terms, we write \emph{$t[x/s]$\/}\index{0txs@$t[x/s]$} for the sequence obtained replacing $x$ by $s$ coordinatewise. Proving that $t[x/s]$ is indeed a term is a tedious and can safely skip.

If $t$ is a term and $x_1,\dots,x_n$ are (tuples of) variables we write \emph{$t(x_1,\dots,x_n)$\/}\index{0tx@$t(x_1,\dots,x_n)$} to declare that the variables occurring in $t$ are among those that occur in $x_1,\dots,x_n$. When a term has been presented as $t(x,y)$, we write \emph{$t(s,y)$\/} for $t[x/s]$.

Finally we define the interpretation o a term in a structure $M$. We begin with closed terms. These are interpreted in $0$-ary functions, i.e.\@ an elements of the structure.

\begin{definition}\label{defterminiinterpretazione}
Let $t$ be a closed $L(M)$ term. We write \emph{$t^M$}\index{0tM@$t^M$} for the \emph{interpretation of $t$}\index{interpretation!of a closed term}. This is defined by induction of the syntax of $t$

\begin{itemize}
\item[i.] if $t=f\,\bar t$, where $f\in L_{\rm fun}$ and $\bar t$ is a tuple obtained concatenation the terms $t_1,\dots,t_{n_f}$, then $t^M=f^M(t^M_1, \dots, t^M_{n_f})$.
\end{itemize}
Note that in \ssf{i} we have used Lemma~\ref{lemmaterminileggibilita} in an essential way. In fact this ensures that the sequence $\bar t$ uniquely determines the terms $t_1, \dots, t_{n_f}$.\QED
\end{definition}

The inductive definition above is based on the case $n_f=0$, i.e.\@ for $f$ a constant (or a parameter).  When $t=c$, a constant, $\bar t$ is the empty tuple, then $t^M=c^M(\0)$ which we abreviate with $c^M$. In particular, if $t=a$, a parameter, then $t^M=a^M=a$.

Now we generalize the interpretation to all (non necessarily closed) terms. If $t(x)$ is a term then we define \emph{$t^M\!(x) :\,M^{|x|}\to\, M$}\index{0tMx@$t^M(x)$} to be the function that maps $a\mapsto t(a)^M$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Substructures}
\label{sottostrutture}


\def\medrel#1{\parbox[t]{6ex}{$\displaystyle\hfil #1$}}
\def\ceq#1#2#3{\parbox{10ex}{$\displaystyle #1$}\medrel{#2}$\displaystyle  #3$}


\begin{definition}\label{sottostrutturadef}
Fix a signature $L$ and let $M$ and $N$ be two $L$-structures. We say that $M$ is a \emph{substructure\/} of $N$, and write \emph{$M\subseteq N$}, if
\begin{itemize}
\item[1.] the domain of $M$ is a subset of the domain of $N$
\item[2.] $f^M=f^N\restriction M^{n_f}$ for every $f\in L_{\rm fun}$
\item[3.] $r^M=r^N\cap M^{n_r}$ for every $f\in L_{\rm rel}$.
\end{itemize}
\end{definition}

Note that when $f$ is a constant \ssf{2} becomes $f^M=f^N$, in particular the substructures of $N$ contains at least all constants of $N$.

If a set $A\subseteq N$ is such that 
\begin{itemize}
\item[1.] $f^N[A^{n_f}]\subseteq A$ for every  $f\in L_{\rm fun}$ 
\end{itemize}
then there is a unique substructure $M\subseteq N$ with domain $A$, namely, the structure with the following interpretation
\begin{itemize}
\item[2.] $f^M\ =\ f^N\restriction M^{n_f}$ (which is a good definition by the assumption on $A$);
\item[3.] $r^M\ =\ r^N\cap M^{n_r}$.
\end{itemize}
It is usual to confuse subsets of $N$ that satisfy \ssf{1} with the unuque substructure they support.

It is immediate to verify that the intersection of an arbitrary family of substructures of $N$ is a substructure of $N$. Therefore, for any given $A\subseteq N$ we may define the \emph{substructure of $N$ generated $A$\/}\index{substructure!generated by a set} as the intersection of all substructures of $N$ that contain $A$. We write \emph{$\<A\>_N$}\index{0AN@$\<A\>_N$}. The following easy proposition gives more concrete representation of $\<A\>_N$
%
\begin{lemma}\label{strutturagenerata}
The following hold for every $A\subseteq N$

\ceq{\ssf{1.}\hfill \<A\>_N}{=}{\Big\{ t^N \ :\  t\ \textrm{a closed $L(A)$-term }\Big\}}

\ceq{\ssf{2.}\hfill \<A\>_N}{=}{\Big\{ t^N(a) \ :\  t(x)\textrm{ an $L$-term and }  a\in A^{|x|}\Big\}}

\ceq{\ssf{3.}\hfill \<A\>_N}{=}{\smash[b]{\bigcup_{n\in\omega}A_n},}\kern2ex\ceq{\textrm{where}\hfill A_0}{=}{A}

\ceq{}{}{\displaystyle\hphantom{\bigcup_{n\in\omega} A_n,}}\kern2ex\ceq{\hfill A_{n+1}}{=}{A_n\ \cup\ \Big\{ f^N(a) \ :\  f\in L_{\rm fun},\  a\in A_n^{n_f}\Big\}.}\QED

\begin{example}
Let $L$ be the language of groups. Let $N$ be a group, which we consider as an $L$-structure in the natural way. Then the substructures of $N$ are exactly the subgroups of $N$ and $\<A\>_N$ is the group generated by $A\subseteq N$. A similar claim is true when $L$ is the signature of vector spaces and $N$ is a vector space. The choice of the language is more or less fixed if we want that the algebraic and the model theoretic notion of substructure coincide.\QED
\end{example}
\end{lemma}


\section{Formulas}\label{sintassformule}


Fix a language $L$ and a set of variables $V$. A \emph{formula} is a finite sequence of symbols in $L_{\rm fun}\cup L_{\rm rel}\cup V\cup \{\doteq,\bot,\neg,\vee,\E\}$. The last set contains the logical symbols that are called respectively



\def\ceq#1#2{\parbox{3ex}{\noindent\emph{#1}\ }\parbox{27ex}{\ \emph{#2}\ }}


\ceq{$\doteq$}{equality}%
\ceq{$\bot$}{contradiction}%
\ceq{$\neg$}{negation}

\ceq{$\vee$}{disjunction}%
\ceq{$\E$}{existential quantifier}.


Syntactically, $\doteq$ behaves like a binary relation symbol. So, for convenience set $n_{\scriptscriptstyle\doteq}=2$. However $\doteq$ is considered as a logic symbol because its semantic is fixed (it is always interpreted in the diagonal).

The definition below uses the prefix notation which simplifies the proof of the unique legibility lemma. However, in practice we always we use the infix notation: $t\doteq s$, \ $\phi\vee\psi$, etc.


\begin{definition}\label{defformule} 
A \emph{formula\/}\index{formula} is any finite sequence is obtained with the following inductive procedure

\begin{itemize}
\item[o.] if $r\in L_{\rm rel}\cup \{\doteq\}$ and $t$ is a tuple obtained concatenating $n_r$ terms then $r\,t$ is a formula. Formulas of this form are called \emph{atomic}\index{formula!atomic};

\item[i.] if $\phi$ e $\psi$ are formulas then the following are formulas: $\bot$, \ ${\neg}\,\phi$, \ ${\vee}\,\phi\,\psi$, \ and $\E x\,\phi$, for any $x\in V$.\QED
\end{itemize}
\end{definition}


We use \emph{$L$\/} to denote both the language and the set of formulas. We write \emph{$L_{\rm at}$\/} for the set of atomic formulas and \emph{$L_{\rm qf}$\/} for the set of \emph{quantifier-free formulas\/} i.e., formulas where $\E$ does not occur.

The proof of the following is similar to the analogous lemma for terms.

\begin{lemma}[ (unique legibility of formulas)]
\label{lemmaformuleleggibilita}
Let $a$ be a sequence of formulas. Suppose $a$ can be obtained both by the concatenation of the formulas $\phi_1,\dots,\phi_n$ or by the concatenation of the formulas $\psi_1,\dots,\psi_m$. Then $n=m$ and $\phi_i=\psi_i$.\QED
\end{lemma}


A formula is \emph{closed\/} if all its variables occur under the scope of a quantifier. Closed formulas are also called \emph{sentences}\index{sentence}. We will do without a formal definition of \textit{occurs under the scope of a quantifier\/} which is too lengthy. An example suffices: all occurrences of $x$ are under the scope a quantifiers in the formula $\E x\,\phi$. These occurrences are called \emph{bonded}. The formula $x{\doteq}y\wedge\E x\,\phi$ has \emph{free\/} (i.e., not bond) occurrences of $x$ and $y$.

Let $x$ is a tuple of variables and $t$ is a tuple of terms such that $|x|=|t|$. We write $\phi[x/t]$ for the formula obtained substituting $t$ for all free occurrences of $x$, coordinatewise.  

We write $\phi(x)$ to declare that the free variables in the formula $\phi$ are all among those of the tuple $x$. In this case we write $\phi(t)$ for $\phi[x/t]$.

We will often use without explicit mention the following useful syntactic decomposition of formulas with parameters.


\begin{lemma}\label{rappresentazione formule con parametri}
For every formula $\phi(x)\in L(A)$ there is a formula $\psi(x\,;z)\in L$ and a tuple of parameters $a\in A^{|z|}$ such that $\phi(x)=\psi(x\,;a)$.\QED
\end{lemma}

Just as a term $t(x)$ is a name for a function $t(x)^M:M^{|x|}\to M$, a formula $\phi(x)$ is a name for a subset \emph{$\phi(x)^M$\/}$\subseteq M^{|x|}$ which we call \emph{the subset of $M$ defined by $\phi(x)$}. It is also very common to write \emph{$\phi(M)$} for the set defined by $\phi(x)$. In general sets of the form $\phi(M)$ for some $\phi(x)\in M$ are called \emph{definable}.


\begin{definition}[ of truth]\label{defverita} For every formua $\phi$ with variables amon thos of the tuple $x$ we define \emph{$\phi(x)^M$\/} by induction as follows
\begin{itemize}
\item[o1.] \hspace*{15ex}\llap{$({\doteq}\,t\,s)(x)^M$}\ \  =\ \ \  $\Big\{a\in M^{|x|}\ :\ t^M\!(a)=s^M\!(a) \Big\}$\medskip

\item[o2.] \hspace*{15ex}\llap{$(r\,t_1\dots\,t_n)(x)^M$}\ \   =\ \ \ $\Big\{a\in M^{|x|}\ :\ \<t_1^M(\!a),\dots,t_n^M\!(a)\>\in r^M\Big\}$\medskip

\item[i0.] \hspace*{15ex}\llap{$\bot(x)^M$}\ \  =\ \ \  $\0$\bigskip

\item[i1.] \hspace*{15ex}\llap{$\big(\neg\xi\big)(x)^M$}\ \   =\ \ \  $M^{|x|}\smallsetminus\xi(x)^M$\bigskip

\item[i2.] \hspace*{15ex}\llap{$\big(\vee\,\xi\,\psi\big)(x)^M$}\ \   =\ \ \  $\xi(x)^M\cup\;\psi(x)^M$\bigskip

\item[i3.] \hspace*{15ex}\llap{$\big(\E y\,\phi\big)(x)^M$}\ \   =\ \ \ $\displaystyle\bigcup_{a\in M}\big(\phi[y/a]\big)(x)^M$
\end{itemize}
Condition \ssf{i2} assumes that $\xi$ and $\psi$ are uniquely determined by $\vee\,\xi\,\psi$. This is a guaranteed by the unique legibility o formulas, Lemma~\ref{lemmaformuleleggibilita}. Analogously, \ssf{o1} e \ssf{o2} assume Lemma~\ref{lemmaterminileggibilita}. 
\end{definition}

The case when $x$ is the empty tuple is far from trivial. Note that $\phi(\0)^M$ is a subset of $M^0=\{\0\}$. Then there are two possibilities either $\{\0\}$ or $\0$. We wil read them as two \emph{truth values}: \emph{True\/} and \emph{False}, respectively. If $\phi^M=\{\0\}$ we say that \emph{$\phi$ is true in $M$}, if $\phi^M=\0$., we say that \emph{$\phi$ is false $M$}. We write \emph{$M\models\phi$}, respectively \emph{$M\notmodels\phi$}. Or we may say that \emph{$M$ models $\phi$}, respectively \emph{$M$ does not model $\phi$}. It is immediate to verify at

\hfil$\phi(M)=\big\{a\in M^{|x|}: M\models\phi(a)\big\}$.


\section{Yet more notation}\label{Altriconnettivi}


\def\medrel#1{\parbox[t]{15ex}{\hfil #1}}
\def\ceq#1#2#3{\parbox{20ex}{$\displaystyle #1$}\medrel{#2}$\displaystyle  #3$\hfill}

Now we abandon the prefix notation in favor of the infix notation. We also use the following logical connectives as abbreviations

\ceq{\hfill\emph{$\top$}}{stands for}{\neg\bot}\emph{tautology}

\ceq{\hfill\emph{$\phi\wedge\psi$}}{stands for}{\neg\big[\neg\phi\,\vee\,\neg\psi\big]}\emph{conjunction}

\ceq{\hfill\emph{$\phi\imp\psi$}}{stands for}{\,\neg\phi\,\vee\,\psi}\emph{implication}

\ceq{\hfill\emph{$\phi\iff\psi$}}{stands for}{\big[\phi\imp\psi\big]\ \wedge\ \big[\psi\imp\phi\big]}\emph{bi-implication}

\ceq{\hfill\emph{$\phi\iff\llap{/\kern1.5ex}\psi$}}{stands for}{\neg\big[\phi\iff\psi\big]}\emph{exclusive disjunction}

\ceq{\hfill\emph{$\A x\,\phi$}}{stands for}{\neg\E x\neg\,\phi}\emph{universal quantifier}\bigskip

We agree that $\imp$ e $\iff$ bind less than $\wedge$ e $\vee$.  Unary connnectives (quantifiers and negation) bind stronger then binarary connectives. For example

\hfil$\E x\,\phi \wedge \psi\ \imp\ \neg\xi\vee\theta$ \ \ \ reads as \ \ \ $\Big[\big[\E x\,\phi\big]\wedge\psi\Big]\ \imp\ \Big[\big[\neg\xi\big]\vee\theta\Big]$

We say that $\A x\,\phi(x)$ and $\E x\,\phi(x)$ are the \emph{universal}, respectively, \emph{existential closure} of $\phi(x)$. We say that $\phi(x)$ \emph{holds in $M$\/} when its universal closure is true in $M$. We say that $\phi(x)$ is \emph{consistent in $M$\/} when its existential closure is true in $M$.

The semantic of conjunction and disjunction is associative. Then for any finite set of formulas $\{\phi_i:i\in I\}$ we can write without ambiguities 

\hfil \emph{$\displaystyle\bigwedge_{i\in I}\phi_i$}\hfil \emph{$\displaystyle\bigvee_{i\in I}\phi_i$}\bigskip


When $x=x_1,\dots,x_n$ is a tuple of variables we write \emph{$\E x\,\phi$\/} or \emph{$\E x_1,\dots,x_n\,\phi$\/} for $\E x_1\dots\E x_n\,\phi$.  With first order sentences we are able to say that $\phi(M)$ has at least $n$ elements (also, no more than, or exactly $n$). It is convenient to use the following abbreviations.

\ceq{\hfill\emph{$\E^{\ge n}x\;\phi(x)$}}{stands for}{\E x_1,\dots, x_n\,\Big[\bigwedge_{1\le i\le n}\phi(x_i)\ \ \wedge\ \bigwedge_{1\le i<j\le n} x_i\dot\neq x_j\Big].}

\ceq{\hfill\emph{$\E^{\le n}x\;\phi(x)$}}{stands for}{\neg\E^{\ge n+1}x\;\phi(x)}
\bigskip

\ceq{\hfill\emph{$\E^{=n}x\;\phi(x)$}}{stands for}{\E^{\ge n}x\;\phi(x)\ \wedge\ \E^{\le n}x\;\phi(x)}
\smallskip

\begin{exercise}
Let $M$ be an $L$-structure and let $\psi(x), \phi(x,y)\in L$. For each of the following conditions, write a sentence true in $M$ exactly when
\begin{itemize}
\item[a.] $\psi(M)\ \in\ \big\{\phi(a,M): a\in M\big\}$;
\item[b.] $\big\{\phi(a,M): a\in M\big\}$ contains at least two sets;
\item[c.] $\big\{\phi(a,M): a\in M\big\}$ contains only sets that are pairwise disjoint.\QED
\end{itemize}
\end{exercise}

\begin{exercise}\label{ex_grafo_bipartito}
Let $M$ be a structure in the signature of graphs as defined in Example~\ref{expl_graph1} (but not necessarily a graph). Write a sentence $\phi$ such that, 
\begin{itemize} 
\item[a.] $M\models\phi$ if and only if there is an $A\subseteq M$ such that $r^M\ \subseteq\ A\times\neg A$.
\end{itemize}
Remark: $\phi$ assert an asymmetric version of the property below
\begin{itemize} 
\item[b.] $M\models\psi$ if and only if there is an $A\subseteq M$ such that $r^M\ \subseteq\ (A\times \neg A)\;\cup\;(\neg A\times A)$.
\end{itemize}
Assume $M$ is a graph, what required in \ssf{b} is equivalent to saying that $M$ is a \textit{bipartite graph}, or equivalently that it has \textit{chromatic number $2$\/} i.e., we can color the vertices with $2$ colors so that no two adjacent vertices share the same color.\QED
\end{exercise}


